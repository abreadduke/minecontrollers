{
    "name": "Метки и сегменты",
    "icon": "minecraft:crimson_sign",
    "category": "minecontrollers:casm",
    "pages": [
        {
            "type": "patchouli:text",
            "text": "Метки являются важной частью CASM. На машинном уровне они оба не существуют, поскольку являются просто удобным способом записи смещений относительно сегментов."
        },
        {
            "title": "Метки",
            "type": "patchouli:text",
            "text": "Чтобы объявить метку используйте:$(br)$(bold)[<метка>]:$()$(br)Существует также расширенная версия этой сигнатуры.$(br)$(bold)[<метка>]:(необязательно) (db|dw) [<число>] dup([<количество_повторов>])(необязательно)$(). Вторая сигнатура сгенерирует байты или слова (двойные байты) из введеного числа dup раз, метка будет указывать на начало данных."
        },
        {
            "type": "patchouli:text",
            "text": "CASM автоматически устанавливает смещение меток в $(l:minecontrollers:casm/registers#segments)DS$().$(br)Но не беспокойтесь о том, что ваши прыжки сломаются, потому что все команды прыжков поддерживают только $(l:minecontrollers:casm/registers#segments)CS, SS и ES$() смещения.$(br)Также есть еще одно определение метки:$(br)$(bold)[<метка>] proc$(br)... код ...$(br)[<метка>] endp$(br)$()Это перенесет код процедуры в конец текущего сегмента и создаст метку."
        },
        {
            "title": "Сегментные метки",
            "type": "patchouli:text",
            "text": "Определение сегмент:$(br)$(bold)section [<сегмент>]$()$(br)Просто создает метку в таблице разделов, но вместо обычных меток, содержащих смещение относительно сегментов, которые их содержат, эти метки содержат только глобальные адреса программы."
        },
        {
            "title": "ПРИМЕР",
            "type": "patchouli:text",
            "text": "$(bold)section .text$(br)mov ds, .data$(br)_start:$(br)add ax, [five]$(br)jmp _start$(br)section .data$(br)five: dw 5$(br2)$()В этом примере значение ax увеличивается на величину из переменной \"five\"."
        }
    ]
}